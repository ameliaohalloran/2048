<html>
<head>
<link rel="stylesheet" type="text/css" href="2048style.css">
<script src="2048js.js"></script>
</head>

<body onload = "runGame();" onkeydown = "arrowPress(event)">
		<div class="game-container">
			<div class="grid-container">
		        <div class="grid-row">
		          <div class="grid-cell" id = "r0c0"></div>
		          <div class="grid-cell" id = "r0c1"></div>
		          <div class="grid-cell" id = "r0c2"></div>
		          <div class="grid-cell" id = "r0c3"></div>
		        </div>
		        <div class="grid-row">
		          <div class="grid-cell" id = "r1c0"></div>
		          <div class="grid-cell" id = "r1c1"></div>
		          <div class="grid-cell" id = "r1c2"></div>
		          <div class="grid-cell" id = "r1c3"></div>
		        </div>
		        <div class="grid-row">
		          <div class="grid-cell" id = "r2c0"></div>
		          <div class="grid-cell" id = "r2c1"></div>
		          <div class="grid-cell" id = "r2c2"></div>
		          <div class="grid-cell" id = "r2c3"></div>
		        </div>
		        <div class="grid-row">
		          <div class="grid-cell" id = "r3c0"></div>
		          <div class="grid-cell" id = "r3c1"></div>
		          <div class="grid-cell" id = "r3c2"></div>
		          <div class="grid-cell" id = "r3c3"></div>
		        </div>
	      	</div>
	     </div>
	     
	     <style>html, body {
			  margin: 0;
			  padding: 10px;
			  background: #faf8ef;
			  color: #ff0066;
			  font-family: "Helvetica Neue", Arial, sans-serif;
			  font-size: 36px; 
			  font-weight: bolder;
			}

			.grid-container {
			  position: absolute;
			  z-index: 1; 
			}

			.grid-row {
			  margin-bottom: 15px; 
			}

  			.grid-row:last-child {
    			margin-bottom: 0; 
			}	

			.grid-row:after {
				content: "";
			    display: block;
			    clear: both;
			}

			.grid-cell {
			  width: 106.25px;
			  height: 106.25px;
			  margin-right: 15px;
			  float: left;
			  border-radius: 3px;
			  text-align: center;
			  background: #d8fbf8; 
			}

			.grid-cell:last-child {
			    margin-right: 0; 
			}

			.game-container {
				  margin-top: 40px;
				  position: relative;
				  padding: 15px;
				  cursor: default;
				  background: #9781c3;
				  border-radius: 6px;
				  width: 500px;
				  height: 500px;
				  -webkit-box-sizing: border-box;
				  -moz-box-sizing: border-box;
				  box-sizing: border-box; 
			}</style>
			<script>var board = [[2,0,0,0],
			 [0,0,0,0],
			 [0,0,0,0],
			 [0,0,0,0]];
			 
var boardSize = 4;
function renderBoard(){
   for(var i = 0; i < boardSize; i++){
           for(var j = 0; j < boardSize; j++){
                   var boardID = "r"+i+"c"+j;
                   if(board[i][j]!=0){
                           document.getElementById(boardID).innerHTML = board[i][j];
}
                   else{
                            document.getElementById(boardID).innerHTML = "";
                   }
           }
   }
}

//starts game and displays game board
function runGame(){
	renderBoard();
	}



var arrowPress = function (event){

	document.onkeydown=function(e){
	e=e||window.event;
	switch(e.which || e.keyCode){
			
			//moves right
			case 39:
			for(var i=0;i<=3;i++){ 
			
			//takes each column and replaces with previous column
			 	//moving
			 	if (board[i][3]==0){
			 		board[i][3]=board[i][2];
			 		board[i][2]=0
			 		}
			 	//combining
			 	if (board[i][3]==board[i][2]){
			 		board[i][3]=2*(board[i][2])
			 		board[i][2]=0
			 		}
			 	//moving
			 	if (board[i][2]==0){
			 		board[i][2]=board[i][1];
			 		board[i][1]=0
			 		}
			 	//combining
			 	if (board[i][2]==board[i][1]){
			 		board[i][2]=2*(board[i][1])
			 		board[i][1]=0
			 		}
			 	//moving
			 	if (board[i][1]==0){
			 		board[i][1]=board[i][0];
			 		board[i][0]=0
			 		}	
			 	//combining
			 	if (board[i][1]==board[i][0]){
			 		board[i][1]=2*(board[i][0])
			 		board[i][0]=0
			 		}
				}  
				for (i=0;i<4;i++){
					
				
				
				
				}
				
			 				var x=Math.floor((Math.random() * 4));
			 				var y=Math.floor((Math.random() * 4));
			 				if (board[x][y]==0){
			 					board[x][y]=2;
			 					break;
			 				
			 				
			 	
			 	
			 		
			 		
				
				 //redraws board
			 	renderBoard();
			 	}
			 	
			break;
			
		
			//moves left
			case 37:
			for(var i=0;i<=3;i++){ 
			
			//takes each column and replaces with previous column
			 	if (board[i][0]==0){
			 		board[i][0]=board[i][1];
			 		board[i][1]=0
			 		}
			 	//combining
			 	if (board[i][0]==board[i][1]){
			 		board[i][0]=2*(board[i][1])
			 		board[i][1]=0
			 		}
			 	if (board[i][1]==0){
			 		board[i][1]=board[i][2];
			 		board[i][2]=0
			 		}
			 	//combining
			 	if (board[i][1]==board[i][2]){
			 		board[i][1]=2*(board[i][2])
			 		board[i][2]=0
			 		}
			 	if (board[i][2]==0){
			 		board[i][2]=board[i][3];
			 		board[i][3]=0
			 		}
			 	//combining
			 	if (board[i][2]==board[i][3]){
			 		board[i][2]=2*(board[i][3])
			 		board[i][3]=0
			 		}
				} 
				
				
						
			 				var x=Math.floor((Math.random() * 4));
			 				var y=Math.floor((Math.random() * 4));
			 				if (board[x][y]==0){
			 					board[x][y]=2;
			 					break;
			 				
			 			
			 	
			 		 
				
				 //redraws board
			 	renderBoard();  
			 	}
			 	
			break;
			
			
			//moves down
			case 40:
for(var j=0;j<=3;j++){ 
			//takes each column and replaces with previous column
			 	if (board[3][j]==0){
			 		board[3][j]=board[2][j];
			 		board[2][j]=0
			 		}
			 	//combining
			 	if (board[3][j]==board[2][j]){
			 		board[3][j]=2*(board[2][j])
			 		board[2][j]=0
			 		}
			 	//moving
			 	if (board[2][j]==0){
			 		board[2][j]=board[1][j];
			 		board[1][j]=0
			 		}
			 	//combining
			 	if (board[2][j]==board[1][j]){
			 		board[2][j]=2*(board[1][j])
			 		board[1][j]=0
			 		}
			 	//moving
			 	if (board[1][j]==0){
			 		board[1][j]=board[0][j];
			 		board[0][j]=0
			 		}
			 	//combining
			 	if (board[1][j]==board[0][j]){
			 		board[1][j]=2*(board[0][j])
			 		board[0][j]=0
			 		}
			 	
				}   
				
			 			var x=Math.floor((Math.random() * 4));
			 			var y=Math.floor((Math.random() * 4));
			 			if (board[x][y]==0){
			 				board[x][y]=2;
			 				break;
			 				
			 				

				 //redraws board
			 	renderBoard();
			 	}
			 	
			break;
			
			
			//moves up
			case 38:
			for(var j=0;j<=3;j++){ 
			//takes each column and replaces with previous column
			 	if (board[0][j]==0){
			 		board[0][j]=board[1][j];
			 		board[1][j]=0
			 		}
			 	//combining
			 	if (board[0][j]==board[1][j]){
			 		board[0][j]=2*(board[1][j])
			 		board[1][j]=0
			 		}
			 	if (board[1][j]==0){
			 		board[1][j]=board[2][j];
			 		board[2][j]=0
			 		}
			 	//combining
			 	if (board[1][j]==board[2][j]){
			 		board[1][j]=2*(board[2][j])
			 		board[2][j]=0
			 		}
			 	if (board[2][j]==0){
			 		board[2][j]=board[3][j];
			 		board[3][j]=0
			 		}
			 	//combining
			 	if (board[2][j]==board[3][j]){
			 		board[2][j]=2*(board[3][j])
			 		board[3][j]=0
			 		} 	
				} 
	
				
						
			 				var x=Math.floor((Math.random() * 4));
			 				var y=Math.floor((Math.random() * 4));
			 				if (board[x][y]==0){
			 					board[x][y]=2
			 					
			 				}	
			 			

			 		}
				 //redraws board
			 	renderBoard();  
			 	}
	
}

	</script>
	</body>
</html>

